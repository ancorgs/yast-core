
# ---------------------------------------------------------
#
#  Filename:    Scope.ycp
#
#  Purpose:     test cases for YCP test
#
#  Creator:     jd@suse.de
#
#  Maintainer:  jd@suse.de
#
# ---------------------------------------------------------


// this tests includes tests for the scope of variables


// the variable is declared twice
// the loop is defined, because there is a declaration within that block
{

   integer DoubleUsedVariable = 0;
   integer Loop = 0;

   while( Loop < 5 )
   {
       integer DoubleUsedVariable = 5;

       DoubleUsedVariable = DoubleUsedVariable * DoubleUsedVariable;
       Loop = Loop + 1;
   }

   DoubleUsedVariable = DoubleUsedVariable - 2;

   while( Loop < 5 )
   {
       integer DoubleUsedVariable = 5;

       DoubleUsedVariable = DoubleUsedVariable * DoubleUsedVariable;
       Loop = Loop + 1;
   }

   DoubleUsedVariable = DoubleUsedVariable * DoubleUsedVariable;

   return DoubleUsedVariable;
}

// the variable is declared multiple
// the block is left with the last return statement
{

   any MultipleUsedVariable = 0;

   if( true )
   {
       any MultipleUsedVariable = 1;

       MultipleUsedVariable = MultipleUsedVariable + 1;
       if( true )
       {
           MultipleUsedVariable = "I am a string";
       }
   }

   return MultipleUsedVariable;
}

// the variable is declared multiple
// the block is left with the last return statement
// the multiple declared variable is declared with different types
{

   any MultipleUsedVariable = 0;

   if( true )
   {
       any MultipleUsedVariable = 1;

       MultipleUsedVariable = MultipleUsedVariable + 1;
       if( true )
       {
           while( true )
           {
               string MultipleUsedVariable = "";

               MultipleUsedVariable = "I am a string";
               break;
           } 
           MultipleUsedVariable = 1.20;
       }
   }

   return MultipleUsedVariable;
}

// the variable is declared multiple
// an inner block is left with return without assignment
{

   any MultipleUsedVariable = 0;

   if( true )
   {
       any MultipleUsedVariable = 1;

       MultipleUsedVariable = MultipleUsedVariable + 1;
       if( true )
       {
           while( true )
           {       
               string MultipleUsedVariable = "";

               MultipleUsedVariable = "I am a string";
               return MultipleUsedVariable;
           }       
           MultipleUsedVariable = 1.20; 
       }
   }

   return MultipleUsedVariable;
}

// the variable is declared multiple
// an inner block is left with return without assignment
{

   any MultipleUsedVariable = 0;

   if( true )
   {
       any MultipleUsedVariable = 1;

       MultipleUsedVariable = 
       {
           while( true )
           {
               string MultipleUsedVariable = "";

               MultipleUsedVariable = "I am a string";
               return MultipleUsedVariable;
           }
       };
   }

   return MultipleUsedVariable;
}


// check undefine
{
  integer a = 1;
  integer b = 2;
  integer c = 3;

  if (true) {
    integer c = 5;

    undefine c;

    c = 27;
  }

  return c;
}

// double declaration
{
  integer first = 1;
  string first = "";
  float first = 0.0;

  return first;
}
