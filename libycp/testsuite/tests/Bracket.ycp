{
    list l = nil;
    return l[0]:1;
}
{
    map m = $[1:11, "a":"aa", `b:`bb];
    return m["a"]:nilstring;
}
{
    map m = $[1:11, "a":"aa", `b:`bb];
    return m[2]:2;
}
{
    list l = [1, "a", `b];
    return l[1]:nilinteger;
}   
{
    list l = [1, "a", `b];
    return l[3]:42;
}   
{
    list l = [1, "a", `b];
    map m = $[1:l, "a":l, `b:l];
    return m["a",1]:nilstring;
}
{
    list l = [1, "a", `b];
    map m = $[1:l, "a":l, `b:l];
    return m["a"]:nillist;
}
{
    list l = [1, "a", `b];
    map m = $[1:l, "a":l, `b:l];
    return m["b"]:l;
}



{
    map m = $["bus":"parallel", "dev_name":"/dev/lp0"];
    m = add (m, "uri", m["bus"]:"xxx" + m["dev_name"]:"yyy");
    return (m == $["bus":"parallel", "dev_name":"/dev/lp0", "uri":"parallel/dev/lp0"]);
}
