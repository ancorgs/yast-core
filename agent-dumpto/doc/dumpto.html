<HTML>
<HEAD>
<TITLE>DumpTo agent</TITLE>
</HEAD>
<BODY>
<H1>DumpTo agent</H1>
<HR>
<H2>Purpose</H2>
The DumpTo is used to output YCP data in a human readable format.<BR>
It is mainly used to save the user settings of the installation and the
hardware probe results for later debugging.<BR>
<P>
<H2>Implementation</H2>
The DumpTo agent uses the built-in toString() function for all types
except list and map.<br>
The list output consists of all list elements separated by newlines. The whole
list is enclosed by <TT>(</TT> and <TT>)</TT><BR>
The map output consists of all map elements as <I>key</I> <TT>=</TT> <I>value</I>
pairs separated by newlines. The whole map is enclosed by <TT>{</TT> and <TT>}</TT><BR>
<P>
Map and list elements are indentated for easier reading. See the example below.<BR>
<P>
<H2>Usage</H2>
The dumpto agent is accessed with <TT>Write()</TT> function and the
<TT>.dumpto</TT> path. The path elements following <TT>.dumpto</TT>
describe the output file.<BR>
<BR>
Example:<BR>
Writing the string "hello" to the file <TT>/tmp/hello</TT> is done by
<TT>Write (.dumpto.tmp.hello, "hello")</TT>
<BR>
A more complex example with list and map is: <TT>Write(.dumpto.usr.local.src.dumpto_hosts, Read(.etc.hosts))</TT><BR>
If the value of <TT>Read(.etc.hosts)</TT> is
<PRE>
[$["ip4":168427585, "hostname":["heron.suse.de", "heron"]],
 $["ip4":2130706433, "hostname":["localhost", "localhost.suse.de"]]]
</PRE>
The file <TT>/usr/local/src/dumpto_hosts</TT> reads
<PRE>
(
  {
    "ip4" = 168427585
    "hostname" = (
        "heron.suse.de"
        "heron"
      )

  }

  {
    "ip4" = 2130706433
    "hostname" = (
        "localhost"
        "localhost.suse.de"
      )

  }

)
</PRE>
<P>
</BODY>
</HTML>
